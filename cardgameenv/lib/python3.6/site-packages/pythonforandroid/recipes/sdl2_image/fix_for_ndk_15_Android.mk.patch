
diff -r 90b2de23ea5e -r 7ad06019831d Android.mk
--- a/Android.mk	Mon Sep 18 16:07:19 2017 -0700
+++ b/Android.mk	Mon Sep 18 16:10:17 2017 -0700
@@ -79,6 +79,7 @@
         $(JPG_LIBRARY_PATH)/jfdctfst.c \
         $(JPG_LIBRARY_PATH)/jfdctint.c \
         $(JPG_LIBRARY_PATH)/jidctflt.c \
+        $(JPG_LIBRARY_PATH)/jidctfst.c \
         $(JPG_LIBRARY_PATH)/jidctint.c \
         $(JPG_LIBRARY_PATH)/jquant1.c \
         $(JPG_LIBRARY_PATH)/jquant2.c \
@@ -86,12 +87,6 @@
         $(JPG_LIBRARY_PATH)/jmemmgr.c \
         $(JPG_LIBRARY_PATH)/jmem-android.c
 
-    # starting with android-21, assembler support is available for armeabi-v7a
-    ifeq ($(TARGET_ARCH_ABI),armeabi-v7a)
-        LOCAL_SRC_FILES += $(JPG_LIBRARY_PATH)/jidctfst.S
-    else
-        LOCAL_SRC_FILES += $(JPG_LIBRARY_PATH)/jidctfst.c
-    endif
 endif
 
 ifeq ($(SUPPORT_PNG),true)




